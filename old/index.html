<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="favicon.ico" />
    <title>Recipe Chooser Site</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 0;
        padding: 0;
        background: #f7f7f7;
        color: #333;
      }
      header {
        background: #ff7043;
        color: white;
        padding: 1rem;
        text-align: center;
      }
      header button {
        margin-top: 0.5rem;
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        background: white;
        color: #ff7043;
        font-weight: bold;
        margin-right: 5px;
      }
      .filter-bar {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 10px;
        margin: 1rem;
      }
      .filter-bar button {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 20px;
        cursor: pointer;
        background: #ddd;
      }
      .filter-bar button.active {
        background: #ff7043;
        color: white;
      }
      .recipes {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 1rem;
        padding: 1rem;
      }
      .single-recipe,
      .dinner-plan {
        display: flex;
        justify-content: center;
        flex-direction: column;
        padding: 2rem;
        align-items: center;
      }
      .recipe-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        overflow: hidden;
        display: flex;
        flex-direction: column;
        max-width: 500px;
        width: 100%;
        margin-bottom: 1rem;
      }
      .recipe-card h2 {
        margin: 0;
        padding: 0.75rem;
        background: #ffe0d6;
        font-size: 1.1rem;
      }
      .recipe-card h2 a {
        text-decoration: none;
        color: #ff7043;
      }
      .recipe-card img,
      .recipe-card iframe {
        width: 100%;
        height: 200px;
        border: none;
        object-fit: cover;
      }
      .tags {
        padding: 0.5rem;
        font-size: 0.85rem;
        color: #666;
      }
      .view-btn,
      .next-btn {
        margin: 0.5rem;
        padding: 0.5rem 1rem;
        text-align: center;
        background: #ff7043;
        color: white;
        border-radius: 5px;
        text-decoration: none;
        font-weight: bold;
        transition: background 0.3s;
        display: inline-block;
      }
      .view-btn:hover,
      .next-btn:hover {
        background: #e65b2f;
      }
      .plan-controls {
        margin-bottom: 1rem;
        text-align: center;
      }
      .plan-controls input,
      .plan-controls select {
        padding: 0.5rem;
        margin-right: 0.5rem;
        border-radius: 5px;
        border: 1px solid #ccc;
      }
      .plan-controls button {
        padding: 0.5rem 1rem;
        border: none;
        border-radius: 5px;
        background: #ff7043;
        color: white;
        cursor: pointer;
        font-weight: bold;
      }
    </style>
  </head>
  <body>
    <header>
      <h1>üç≤ Recipe chooser</h1>
      <button id="randomBtn">What should I have for dinner?</button>
      <button id="planBtn">Create Dinner Plan</button>
    </header>

    <div class="filter-bar" id="filterBar"></div>

    <div class="recipes" id="recipeContainer"></div>

    <script>
      const recipes = [
        {
          title: "Halloumiwrap med tzatziki",
          url: "https://www.valdemarsro.dk/halloumiwrap-med-tzatziki/",
          image:
            "https://www.valdemarsro.dk/wp-content/2024/06/halloumiwrap-tzatziki.jpg",
          tags: ["Vegetarian", "Healthy"],
        },
        {
          title: "Wraps med kik√¶rter og blomk√•l",
          url: "https://www.valdemarsro.dk/wraps-med-kikaerter-og-blomkaal/",
          image:
            "https://www.valdemarsro.dk/wp-content/2017/01/wraps-blomkaal-kikaerter.jpg",
          tags: ["Vegetarian", "Healthy"],
        },
        {
          title: "Wrap med kry¬≠dret kyl¬≠ling og to¬≠matsa¬≠lat",
          url: "http://mummum.dk/wrap-med-krydret-kylling-og-tomatsalat/",
          image:
            "https://mummum.dk/wp-content/uploads/2024/10/wrap-med-krydret-kylling-og-tomatsalat-min.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Sa¬≠lat¬≠ta¬≠cos med pul¬≠led chi¬≠ck¬≠en",
          url: "https://mummum.dk/salattacos-med-pulled-chicken/",
          image: "https://mummum.dk/wp-content/uploads/2019/05/image-151.png",
          tags: ["Healthy"],
        },
        {
          title: "Sa¬≠lat¬≠bowl med kyl¬≠lin¬≠ge¬≠s¬≠pyd",
          url: "https://mummum.dk/salatbowl-med-kyllingespyd/",
          image:
            "https://mummum.dk/wp-content/uploads/2025/06/Kyllingespyd-1-1-min-scaled.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Svampe Stroganoff",
          url: "https://www.valdemarsro.dk/svampe-stroganoff/",
          image:
            "https://www.valdemarsro.dk/wp-content/2022/09/svampe-stroganoff.jpg",
          tags: ["Vegetarian"],
        },
        {
          title: "Thai beef sa¬≠lad",
          url: "https://mummum.dk/thai-beef-salad/",
          image:
            "https://mummum.dk/wp-content/uploads/2025/01/thai-beef-salad.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Hel laks i ovn med gr√∏nt¬≠sa¬≠ger",
          url: "https://mummum.dk/hel-laks-i-ovn-med-groentsager/",
          image:
            "https://mummum.dk/wp-content/uploads/2025/01/hel-laks-i-ovn-med-groentsager-min-scaled.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Kyl¬≠lin¬≠ge¬≠fri¬≠ka¬≠del¬≠ler med k√•lsa¬≠lat",
          url: "https://mummum.dk/kyllingefrikadeller-med-kaalsalat/",
          image: "https://mummum.dk/wp-content/uploads/2023/12/IMG_1356.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Spi¬≠nat¬≠pan¬≠de¬≠ka¬≠ger med kyl¬≠ling",
          url: "https://mummum.dk/spinatpandekager-med-kylling/",
          image:
            "https://mummum.dk/wp-content/uploads/2023/08/4Y7A6554-min-860x743.jpg",
          tags: ["Healthy"],
        },
        {
          title: "Bowl med hvidl√∏gsbagt gr√∏nt og kik√¶rter",
          url: "https://www.valdemarsro.dk/bowl-med-hvidloegsbagt-groent-og-kikaerter/",
          image:
            "https://www.valdemarsro.dk/wp-content/2023/05/hvidloegsbagte-groentsager-bowl.jpg",
          tags: ["Vegetarian", "Healthy"],
        },
      ];

      const recipeContainer = document.getElementById("recipeContainer");
      const filterBar = document.getElementById("filterBar");
      const randomBtn = document.getElementById("randomBtn");
      const planBtn = document.getElementById("planBtn");

      const allTags = [...new Set(recipes.flatMap((r) => r.tags))];

      let activeTag = null;
      let randomMode = false;
      let planMode = false;

      function renderFilters() {
        filterBar.innerHTML = "";
        const allBtn = document.createElement("button");
        allBtn.textContent = "All";
        allBtn.className = activeTag === null ? "active" : "";
        allBtn.onclick = () => {
          activeTag = null;
          render();
        };
        filterBar.appendChild(allBtn);

        allTags.forEach((tag) => {
          const btn = document.createElement("button");
          btn.textContent = tag;
          btn.className = activeTag === tag ? "active" : "";
          btn.onclick = () => {
            activeTag = tag;
            render();
          };
          filterBar.appendChild(btn);
        });
      }

      function renderRecipes() {
        recipeContainer.className = "recipes";
        recipeContainer.innerHTML = "";
        const filtered = activeTag
          ? recipes.filter((r) => r.tags.includes(activeTag))
          : recipes;
        filtered.forEach((r) => {
          const card = document.createElement("div");
          card.className = "recipe-card";
          card.innerHTML = `
          <h2><a href="${r.url}" target="_blank">${r.title}</a></h2>
          ${r.image ? `<img src="${r.image}" alt="${r.title}">` : `<iframe src="${r.url}" title="${r.title}"></iframe>`}
          <div class="tags">Tags: ${r.tags.join(", ")}</div>
          <a class="view-btn" href="${r.url}" target="_blank">View Recipe</a>
        `;
          recipeContainer.appendChild(card);
        });
      }

      function renderRandomRecipe() {
        recipeContainer.className = "single-recipe";
        recipeContainer.innerHTML = "";
        const filtered = activeTag
          ? recipes.filter((r) => r.tags.includes(activeTag))
          : recipes;
        if (filtered.length === 0) {
          recipeContainer.innerHTML = "<p>No recipes match this filter.</p>";
          return;
        }
        const r = filtered[Math.floor(Math.random() * filtered.length)];
        const card = document.createElement("div");
        card.className = "recipe-card";
        card.innerHTML = `
        <h2><a href="${r.url}" target="_blank">${r.title}</a></h2>
        ${r.image ? `<img src="${r.image}" alt="${r.title}">` : `<iframe src="${r.url}" title="${r.title}"></iframe>`}
        <div class="tags">Tags: ${r.tags.join(", ")}</div>
        <a class="view-btn" href="${r.url}" target="_blank">View Recipe</a>
        <a class="next-btn" href="#">Next</a>
      `;
        recipeContainer.appendChild(card);

        card.querySelector(".next-btn").onclick = (e) => {
          e.preventDefault();
          renderRandomRecipe();
        };
      }

      function renderDinnerPlan() {
        recipeContainer.className = "dinner-plan";
        recipeContainer.innerHTML = "";

        const controls = document.createElement("div");
        controls.className = "plan-controls";
        controls.innerHTML = `
        <label>Days: <input type="number" id="planDays" min="1" max="14" value="7"></label>
             <label>Tags: 
          <select id="planTags" multiple size="${allTags.length}">
            ${allTags.map((t) => `<option value="${t}">${t}</option>`).join("")}
          </select>
        </label>
        <button id="generatePlan">Generate Plan</button>
      `;
        recipeContainer.appendChild(controls);

        document.getElementById("generatePlan").onclick = () => {
          const days = parseInt(document.getElementById("planDays").value);
          const selected = Array.from(
            document.getElementById("planTags").selectedOptions,
          ).map((o) => o.value);
          generatePlan(days, selected);
        };
      }

      function generatePlan(days, selectedTags) {
        let filtered = recipes;
        if (selectedTags.length > 0) {
          filtered = recipes.filter((r) =>
            selectedTags.some((tag) => r.tags.includes(tag)),
          );
        }

        if (filtered.length === 0) {
          recipeContainer.innerHTML += "<p>No recipes match these filters.</p>";
          return;
        }

        recipeContainer
          .querySelectorAll(".plan-output")
          .forEach((e) => e.remove()); // clear old plan
        const planDiv = document.createElement("div");
        planDiv.className = "plan-output";

        for (let i = 1; i <= days; i++) {
          const r = filtered[Math.floor(Math.random() * filtered.length)];
          const card = document.createElement("div");
          card.className = "recipe-card";
          card.innerHTML = `
          <h2>Day ${i}: <a href="${r.url}" target="_blank">${r.title}</a></h2>
          ${r.image ? `<img src="${r.image}" alt="${r.title}">` : `<iframe src="${r.url}" title="${r.title}"></iframe>`}
          <div class="tags">Tags: ${r.tags.join(", ")}</div>
          <a class="view-btn" href="${r.url}" target="_blank">View Recipe</a>
        `;
          planDiv.appendChild(card);
        }
        recipeContainer.appendChild(planDiv);
      }

      function render() {
        renderFilters();
        if (randomMode) {
          renderRandomRecipe();
        } else if (planMode) {
          renderDinnerPlan();
        } else {
          renderRecipes();
        }
      }

      randomBtn.onclick = () => {
        randomMode = !randomMode;
        planMode = false;
        randomBtn.textContent = randomMode
          ? "Back to all recipes"
          : "What should I have for dinner?";
        render();
      };

      planBtn.onclick = () => {
        planMode = !planMode;
        randomMode = false;
        planBtn.textContent = planMode
          ? "Back to all recipes"
          : "Create Dinner Plan";
        render();
      };

      render();
    </script>
  </body>
</html>
